From 0aa177ae7419c9101d524a55816b1219539e433f Mon Sep 17 00:00:00 2001
From: "h.udo" <hudokkow@gmail.com>
Date: Wed, 6 Jan 2016 15:09:05 +0000
Subject: [PATCH 1/2] [src] Update to p8-platform

---
 src/CWatchdog.h    | 4 ++--
 src/HTTPSocket.cpp | 6 +++---
 src/HTTPSocket.h   | 4 ++--
 src/SAPI.cpp       | 2 +-
 src/SData.cpp      | 8 ++++----
 src/SData.h        | 4 ++--
 src/Utils.cpp      | 2 +-
 src/XMLTV.cpp      | 2 +-
 src/client.cpp     | 2 +-
 9 files changed, 17 insertions(+), 17 deletions(-)

diff --git a/src/CWatchdog.h b/src/CWatchdog.h
index b54f968..fec06f5 100644
--- a/src/CWatchdog.h
+++ b/src/CWatchdog.h
@@ -22,11 +22,11 @@
  *
  */
 
-#include "platform/threads/threads.h"
+#include "p8-platform/threads/threads.h"
 
 #include "libstalkerclient/identity.h"
 
-class CWatchdog : public PLATFORM::CThread
+class CWatchdog : public P8PLATFORM::CThread
 {
 public:
   CWatchdog(uint32_t iInterval, sc_identity_t &m_identity);
diff --git a/src/HTTPSocket.cpp b/src/HTTPSocket.cpp
index ea5352a..6916aea 100644
--- a/src/HTTPSocket.cpp
+++ b/src/HTTPSocket.cpp
@@ -24,8 +24,8 @@
 
 #include <algorithm>
 
-#include "platform/util/StringUtils.h"
-#include "platform/sockets/tcp.h"
+#include "p8-platform/util/StringUtils.h"
+#include "p8-platform/sockets/tcp.h"
 
 #include "client.h"
 #include "Utils.h"
@@ -33,7 +33,7 @@
 #define TEMP_BUFFER_SIZE 1024
 
 using namespace ADDON;
-using namespace PLATFORM;
+using namespace P8PLATFORM;
 
 HTTPSocket::HTTPSocket(uint32_t iTimeout)
   : m_iTimeout(iTimeout)
diff --git a/src/HTTPSocket.h b/src/HTTPSocket.h
index 39e3356..2549c00 100644
--- a/src/HTTPSocket.h
+++ b/src/HTTPSocket.h
@@ -85,7 +85,7 @@ class HTTPSocket
   std::vector<UrlOption>  m_defaultOptions;
 };
 
-namespace PLATFORM
+namespace P8PLATFORM
 {
   class CTcpConnection;
 }
@@ -105,5 +105,5 @@ class HTTPSocketRaw : public HTTPSocket
 private:
   std::string               m_host;
   int                       m_port;
-  PLATFORM::CTcpConnection  *m_socket;
+  P8PLATFORM::CTcpConnection  *m_socket;
 };
diff --git a/src/SAPI.cpp b/src/SAPI.cpp
index 882947f..250213a 100644
--- a/src/SAPI.cpp
+++ b/src/SAPI.cpp
@@ -25,7 +25,7 @@
 #include <algorithm>
 #include <sstream>
  
-#include "platform/os.h"
+#include "p8-platform/os.h"
 
 #include "libstalkerclient/itv.h"
 #include "libstalkerclient/param.h"
diff --git a/src/SData.cpp b/src/SData.cpp
index 7276cad..d4596e5 100644
--- a/src/SData.cpp
+++ b/src/SData.cpp
@@ -25,9 +25,9 @@
 #include <cmath>
 
 #include "tinyxml.h"
-#include "platform/util/StringUtils.h"
-#include "platform/util/timeutils.h"
-#include "platform/util/util.h"
+#include "p8-platform/util/StringUtils.h"
+#include "p8-platform/util/timeutils.h"
+#include "p8-platform/util/util.h"
 
 #include "libstalkerclient/itv.h"
 #include "libstalkerclient/util.h"
@@ -46,7 +46,7 @@
 #define MSG_RE_AUTHENTICATED            30510
 
 using namespace ADDON;
-using namespace PLATFORM;
+using namespace P8PLATFORM;
 
 SData::SData(void)
 {
diff --git a/src/SData.h b/src/SData.h
index 30c8fa4..b32cdae 100644
--- a/src/SData.h
+++ b/src/SData.h
@@ -115,7 +115,7 @@ class SData
   time_t                      m_iNextEpgLoadTime;
   
   sc_identity_t               m_identity;
-  PLATFORM::CMutex            m_authMutex;
+  P8PLATFORM::CMutex            m_authMutex;
   sc_stb_profile_t            m_profile;
   Json::Value                 m_epgData;
   std::vector<SChannelGroup>  m_channelGroups;
@@ -123,5 +123,5 @@ class SData
   std::string                 m_PlaybackURL;
   CWatchdog                   *m_watchdog;
   XMLTV                       *m_xmltv;
-  PLATFORM::CMutex            m_epgMutex;
+  P8PLATFORM::CMutex            m_epgMutex;
 };
diff --git a/src/Utils.cpp b/src/Utils.cpp
index 5df9f1f..fd2f1cd 100644
--- a/src/Utils.cpp
+++ b/src/Utils.cpp
@@ -27,7 +27,7 @@
 #include <iterator>
 #include <sstream>
 
-#include "platform/os.h"
+#include "p8-platform/os.h"
 
 #include "client.h"
 
diff --git a/src/XMLTV.cpp b/src/XMLTV.cpp
index 179b468..94767db 100644
--- a/src/XMLTV.cpp
+++ b/src/XMLTV.cpp
@@ -26,7 +26,7 @@
 #include <string>
 #include <vector>
 
-#include "platform/util/StringUtils.h"
+#include "p8-platform/util/StringUtils.h"
 
 #include "client.h"
 #include "Utils.h"
diff --git a/src/client.cpp b/src/client.cpp
index cb0792d..aaef5ca 100644
--- a/src/client.cpp
+++ b/src/client.cpp
@@ -24,7 +24,7 @@
 
 #include "kodi/xbmc_pvr_dll.h"
 #include "kodi/libKODI_guilib.h"
-#include "platform/util/util.h"
+#include "p8-platform/util/util.h"
 
 #include "SData.h"
 

From d42dbc48e465f68d101267a1a7dcdace92e28fca Mon Sep 17 00:00:00 2001
From: "h.udo" <hudokkow@gmail.com>
Date: Wed, 6 Jan 2016 15:21:49 +0000
Subject: [PATCH 2/2] [cmake] Update to p8-platform

---
 CMakeLists.txt | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

diff --git a/CMakeLists.txt b/CMakeLists.txt
index 2a63305..e3fa850 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -8,12 +8,12 @@ enable_language(CXX)
 
 find_package(kodi REQUIRED)
 find_package(kodiplatform REQUIRED)
-find_package(platform REQUIRED)
+find_package(p8-platform REQUIRED)
 find_package(TinyXML REQUIRED)
 find_package(JsonCpp REQUIRED)
 
 include_directories(${kodiplatform_INCLUDE_DIRS}
-                    ${platform_INCLUDE_DIRS}
+                    ${p8-platform_INCLUDE_DIRS}
                     ${KODI_INCLUDE_DIR}
                     ${PROJECT_SOURCE_DIR}/lib
                     ${TINYXML_INCLUDE_DIRS}
@@ -21,7 +21,7 @@ include_directories(${kodiplatform_INCLUDE_DIRS}
 
 add_subdirectory(lib/libstalkerclient)
 
-set(DEPLIBS ${platform_LIBRARIES} stalkerclient ${TINYXML_LIBRARIES} ${JSONCPP_LIBRARIES})
+set(DEPLIBS ${p8-platform_LIBRARIES} stalkerclient ${TINYXML_LIBRARIES} ${JSONCPP_LIBRARIES})
 
 if(WIN32)
   list(APPEND DEPLIBS ws2_32)
